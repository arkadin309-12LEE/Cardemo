# 카데모(Crademo)

## 1. 프로젝트 개요
> **프로젝트 명**
>- 카드(CARD)
>- 덱(DECK)
>- 메모(MEMO)
>= **카데모(CARDEMO)**

> **개발 배경 및 목적**
>- 일상적인 아이디어, 학습, 업무 기록 등에서 빠르게 메모하고, 카드를 덱 단위로 체계적으로 관리할 수 있는 도구
>- 기존 메모 앱은 단순 리스트 위주라 내용의 분류와 시각적 관리에 한계가 있습니다.
>- 이 프로젝트는 카드 메모지 형태와 DECK, 랜덤 카드 뽑기등 독창적 경험을 제공
>- 사용자가 아이디어를 더 자유롭고 창의적으로 기록, 검색, 활용할 수 있게 하는 것이 목적입니다.

> **주요 목표**
>- **(현 버전은 네트워크 연결이 없는 로컬 전용 앱을 기준으로 합니다.)**
>- 앱 실행 시, 즉시 메모 작성이 가능한 '빠른 메모' 환경 제공
>- DECK을 통한 카드 묶음 관리와 고도의 커스터마이징 기능 구현
>- 다양한 검색, 필터 및 랜덤 추출 등 사용자 맞춤 정렬 기능 개발
>- 모바일 사용성에 최적화된 UX와 감각적 UI 디자인 실현

## 2. 핵심 아이디어 및 컨셉
> **어플리케이션 핵심 기능 요약**
>
>> **빠른 메모 우선의 사용 흐름**
>>- 앱을 실행하면 리스트가 아닌, **새로운 빈 카드가 바로 나타나** 즉시 아이디어를 기록할 수 있습니다.
>>- 메모 작성을 원치 않을 경우에만 상단의 버튼을 통해 카드/덱 리스트로 이동하여 기존 정보를 탐색합니다.
>
>> **덱(DECK)별 카드 집합 관리**
>>- 여러 카드를 선택하여 하나의 덱(DECK)에 보관 및 관리
>>- 덱 리스트에서 덱을 선택하면 소속된 카드 목록 확인
>>- 덱 편집 화면에서 카드를 자유롭게 추가하거나 제외
>
>> **자유로운 커스터마이징과 독창적 기능**
>>- **카드 꾸미기**: 카드의 앞면과 뒷면에 원하는 이미지를 설정하여 개성있는 카드 제작.
>>- **덱 박스 꾸미기**: 덱 박스 외관에 이미지를 적용하여 나만의 덱 컬렉션 구성.
>>- **덱 타이틀 편집**: 덱 박스 위의 타이틀을 자유롭게 편집. 폰트, 색상, 크기 조절은 물론, 드래그하여 **위치를 옮기거나**, 두 손가락으로 **확대/축소**, **회전 및 기울이기**가 가능.
>>- **랜덤 카드 뽑기**: 덱에 모여있는 카드들을 섞어서 랜덤하게 1장을 뽑는 기능. 카드는 뒷면이 먼저 보이도록 제시되며, 사용자가 화면을 터치하면 **실감 나는 애니메이션과 함께 앞면으로 뒤집히는** 아날로그적 재미를 선사.

> **사용자 대상**
>- 20~50대 나이
>- 회사원, 프리랜서, 작가와 같이 아이디어를 시각적으로 정리하고 싶은 모든 사용자.

## 3. 기능 명세

### 3.1 카드 기능
- **카드 생성**: 앱 실행 시 새로운 빈 카드를 '편집 모드'로 제공. 내용 작성 후 저장 시 카드 생성.
- **카드 조회 및 편집**:
	- **읽기 모드**: 카드 선택 시 화면에 맞춰 카드 내용을 보여줌. (디바이스 화면 크기 초과 불가)
	- **편집 모드**: 읽기 모드에서 본문 터치 시 편집 모드로 전환. 가상 키보드가 활성화되어도 카드 내용 스크롤 가능.
	- **편집 툴바**: 헤더(H1~H3), 볼드, 이탤릭, 취소선, 밑줄, 글자/배경색, 체크/번호/불릿 리스트, 글자 크기 조절 기능 제공.
- **카드 커스터마이징**
	- **앞/뒷면 이미지 설정**: 읽기/편집 모드에서 접근 가능한 버튼을 통해 사용자의 갤러리, 카메라, 기본 템플릿에서 이미지 선택 및 적용. 이미지 자르기(Crop), 필터, 투명도 조절 기능 포함.
	- **크기 및 방향**: 1:1, 4:3, 3:4, 16:9 등 종횡비 옵션을 제공하며, 기기 회전에 따른 자동 레이아웃 조정.
- **태그 관리**: 카드에 여러 개의 태그를 추가, 수정, 삭제하여 분류.

### 3.2 덱 기능
- **덱 생성/편집/삭제**: 덱의 이름, 설명, 색상 테마 관리. 덱 복사 및 병합 기능 제공.
- **카드 관리**: 덱에 카드를 추가하거나 제외. 드래그&드롭으로 순서 변경.
- **덱 커스터마이징**
	- **덱 박스 이미지 설정**: 사용자의 갤러리에서 이미지를 선택하여 덱 박스 외관에 적용.
	- **덱 타이틀 편집**: 
		- **위치**: 덱 박스 이미지 위에서 드래그 앤 드롭으로 자유롭게 배치.
		- **크기**: 두 손가락을 이용한 핀치 투 줌(Pinch-to-zoom) 또는 슬라이더로 확대/축소.
		- **회전/기울기**: 두 손가락을 이용한 회전 제스처 또는 슬라이더로 타이틀을 회전하거나 기울임.
		- **스타일**: 폰트 종류, 색상, 그림자 효과 등 타이틀 스타일 변경.
- **덱 기능**
	- **카드 섞기**: 덱 내부의 카드 순서를 무작위로 변경.
	- **랜덤 카드 뽑기**: 덱에서 카드 한 장을 무작위로 추출하여 뒷면으로 제시. 터치 시 입체적인 뒤집기 애니메이션과 함께 앞면 표시.

### 3.3 공통 기능
- **리스트 보기**: 전체 카드 및 덱 리스트를 그리드(2/3열), 리스트, 카드 뷰 형태로 전환하며 표시.
- **정렬**: 시간, 제목, 크기, 태그 등 다양한 기준으로 정렬.
- **검색**: 상단 검색바에서 실시간으로 제목, 내용, 태그 통합 검색. 덱 포함 여부, 정규식, 제외 검색 등 고급 옵션 지원.
- **공유 및 내보내기**: 카드를 이미지(PNG/JPG)나 텍스트(Markdown)로 저장. 덱은 QR코드로 공유.

## 4. UI/UX 설계

- **화면 구성 및 사용자 흐름 (플로우 차트)**: 앱 실행 (새 카드) → 내용 작성 또는 리스트 이동 → 카드 선택 (읽기 모드) → 편집 모드 전환 → 덱 구성 및 커스터마이징.
- **네비게이션 구조**: 하단 탭(카드, 덱, 설정) 기반, 좌우 스와이프로 탭 간 이동 지원.
- **디자인 테마**: 주색상(#2196F3), 보조색상(#FFC107)을 기반으로 Material Design 3.0 적용. 시스템 폰트(Roboto, SF Pro) 사용.
- **상호작용 및 편의성 고려사항**: 
	- **제스처**: 탭, 롱프레스(컨텍스트 메뉴), 스와이프(삭제/즐겨찾기), 핀치(크기 조절), 더블탭(전체화면) 등 직관적 제스처 활용.
	- **키보드 인터랙션**: 편집 모드에서 키보드가 나타날 때, 입력 중인 텍스트 영역이 가려지지 않도록 화면 레이아웃이 자동으로 조정되며, 카드 본문 스크롤을 지원.
	- **접근성**: VoiceOver/TalkBack, 고대비 모드, 시스템 폰트 크기 설정 반영.
	- **성능**: 레이지 로딩, 이미지 압축 및 캐싱을 통해 60fps의 부드러운 애니메이션 유지.

## 5. 기술 스택 및 개발 환경
- **프론트엔드**: Flutter 3.24+ (프레임워크), Riverpod 2.0 (상태 관리), GoRouter (라우팅)
- **데이터베이스**: SQLite (로컬 데이터베이스)
- **데이터 구조**:
  ```sql
  CREATE TABLE cards (id TEXT PRIMARY KEY, deck_id TEXT, title TEXT, content TEXT, tags TEXT, front_image TEXT, back_image TEXT, created_at INTEGER, updated_at INTEGER);
  CREATE TABLE decks (id TEXT PRIMARY KEY, title TEXT, description TEXT, cover_image TEXT, title_position TEXT, created_at INTEGER, updated_at INTEGER);
  CREATE TABLE settings (key TEXT PRIMARY KEY, value TEXT);
  ```
- **파일 저장 구조**: 앱 로컬 디렉토리 내 `cards`, `decks`, `backup`, `cache` 폴더로 분리 관리.
- **협업 및 버전 관리**: GitHub (저장소, 이슈, 프로젝트, CI/CD, Wiki)

### 5.4 데이터 마이그레이션 전략
- **버전 관리**: `settings` 테이블에 `db_version` 키를 두어 현재 데이터베이스 스키마 버전을 관리합니다. (예: `1`, `2`, ...)
- **마이그레이션 실행**: 앱 시작 시, 저장된 `db_version`을 코드에 하드코딩된 최신 버전과 비교합니다.
- **업데이트 로직**: 저장된 버전이 낮을 경우, 필요한 스키마 변경(예: `ALTER TABLE ... ADD COLUMN ...`) 스크립트를 버전 순서대로 실행하여 데이터의 호환성을 유지합니다.

## 6. 개발 일정 및 단계

- **1단계: MVP 개발 (4주)**: 기본 카드 CRUD, 리치 텍스트 에디터, 기본 검색 기능 구현.
- **2단계: DECK 기능 구현 (6주)**: DECK 생성/관리, 카드 추가/제거, 커버 이미지 설정, 덱 포함 검색 기능 구현.
- **3단계: 고급 기능 및 완성 (8주)**: 랜덤 뽑기 및 애니메이션, 카드/덱 커스터마이징, 백업/복원, 최종 테스트 및 배포 준비.
- **마일스톤**:
	- **M1 (4주차)**: MVP 기능 완성 및 내부 테스트.
	- **M2 (10주차)**: DECK 기능 완성 및 베타 테스트.
	- **M3 (18주차)**: 최종 제품 완성 및 배포 준비.

## 7. 규정 준수 및 법적 고려사항
- **개인정보 처리**: 모든 정보는 사용자가 직접 입력하며, 연락처, 위치 등 민감 정보는 수집하지 않음. 개인정보처리방침에 수집 항목, 목적, 보유 기간 등을 명시하고 앱 내에서 쉽게 확인할 수 있도록 제공.
- **앱 접근권한**: 저장소(필수), 카메라/갤러리(선택) 권한만 사용하며, 각 권한은 실제 기능 사용 시점에 요청. 권한 거부 시에도 앱의 핵심 기능은 정상 동작.
- **앱스토어 정책**: Google Play의 Data Safety 섹션, Apple의 심사 지침 5대 원칙(안전, 성능, 비즈니스, 디자인, 법률)을 준수하여 앱을 설계하고 관련 정보를 정확히 제출.

## 8. 테스트 계획

### 8.1 단계별 검증 및 피드백 (Phase Gate)
- **목표**: 각 Phase(단계)가 끝날 때마다 안정된 버전의 앱을 외부 테스터에게 제공하여, 실제 사용 환경에서의 피드백을 수렴하고 다음 단계의 방향성을 검증합니다.
- **Phase 1 완료 후**: MVP 버전의 핵심 기능(카드 생성/관리)에 대한 사용성 테스트 집중.
- **Phase 2 완료 후**: 덱 관리 및 커스터마이징 기능에 대한 만족도 및 사용 편의성 검증.
- **Phase 3 완료 후**: 정식 출시 전, 전체 기능에 대한 최종 베타 테스트 진행.

### 8.2 단위, 통합, 사용자 테스트
- **단위 테스트**: 카드 및 덱의 핵심 로직(생성, 수정, 추가 등)에 대한 단위 테스트 작성.
- **통합 테스트**: (카드 생성 → 덱 추가), (검색 → 필터 적용) 등 주요 사용자 플로우에 대한 통합 테스트 진행.
- **사용자 테스트**: 각 마일스톤마다 20명 내외의 외부 사용자를 대상으로 베타 테스트를 진행하고, 인앱 피드백, 인터뷰, 사용 패턴 분석을 통해 피드백 수집. (피드백은 P0~P3 등급으로 분류하여 우선순위 관리)
- **버그 관리**: GitHub Issues를 통해 버그를 리포팅하고, 재현-분석-수정-검증-배포의 체계적인 프로세스로 해결.

## 9. 배포 및 유지 보수 계획
- **배포 전략**: 내부 알파 테스트 → 비공개 베타 테스트 → 한국 지역 소프트 런치 → 글로벌 런치 순으로 단계적 배포.
- **앱스토어 준비**: 각 스토어(Google Play, Apple App Store)의 요구사항(앱 정보, 스크린샷, 아이콘, 개인정보처리방침 등)에 맞춰 배포 자산 준비.
- **사용자 지원**: 앱 내 도움말, 이메일, FAQ, 사용자 커뮤니티(GitHub Discussions) 등 다양한 채널로 사용자 지원.
- **업데이트 계획**: 2주 단위의 마이너 업데이트(버그 수정)와 분기 단위의 메이저 업데이트(새 기능)를 정기적으로 진행. 향후 위젯, 클라우드 동기화, AI 기능 등을 로드맵에 따라 추가 검토.

## 10. 위험 관리 및 비상 계획

### 10.1 기술적 위험 요소
- **덱 타이틀 커스터마이징 복잡도 (Sprint 8)**
  - **위험**: 제스처(드래그, 스케일, 회전) 기반의 편집 기능은 구현 복잡도가 높아 예상보다 많은 개발 시간이 소요될 수 있습니다.
  - **대응**: 해당 스프린트 시작 전, 핵심 제스처 로직만으로 구성된 **기술 검증용 프로토타입(Spike)을 먼저 제작**하여 기술적 실현 가능성을 조기에 검증합니다.

- **3D 카드 뒤집기 애니메이션 성능 (Sprint 11)**
  - **위험**: 3D 변환 애니메이션은 저사양 기기에서 성능 저하(버벅임)나 시각적 오류를 유발할 수 있습니다.
  - **대응**: 다양한 기기에서 성능 테스트를 진행할 수 있는 **애니메이션 프로토타입을 먼저 제작**하여, 최적화 방안을 미리 강구합니다.

- **점진적 성능 최적화 부재**
  - **위험**: 개발 막바지에 성능 문제를 한 번에 해결하려고 하면 많은 비용과 시간이 소요됩니다.
  - **대응**: 각 Phase가 끝날 때마다(Sprint 4, 10, 14-18) **점진적인 성능 테스트 및 최적화** 시간을 할애하여, 성능 저하를 조기에 발견하고 해결합니다.

- **데이터 손실 위험**
  - **원인**: 앱 충돌, 기기 오류, 사용자 실수
  - **대응**: 자동 백업 기능 구현, 로컬 데이터 복원 기능, 사용자 대상 백업 가이드 제공.

### 10.2 비즈니스 위험 요소
- **앱스토어 정책 변경**: 정책 변경 모니터링, 법무 자문 체계 구축.
- **경쟁사 등장**: 차별화 기능 지속 개발, 커뮤니티 구축 및 로열티 강화.

### 10.3 비상 대응 계획
- 심각한 버그 발생 시, 즉시 대응팀 구성, 임시 해결책 제공, 핫픽스 배포, 사용자 보상 검토 등의 비상 계획을 수립합니다.
