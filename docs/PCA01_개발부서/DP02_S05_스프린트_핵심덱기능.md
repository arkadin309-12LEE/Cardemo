---
fileClass: Work-Plan-Sprint
파일명: DP02_S05_스프린트_핵심덱기능.md
범주:
  - 작업상세계획서
  - Sprint
작성일: 2025-09-19
스프린트: 5
상태: 계획됨
tags: [스프린트, Phase2]
---

# Sprint 5 (5주차): 핵심 덱 기능 구현

> **이번 주 목표**: 사용자가 덱을 만들고, 카드를 그 안에 넣고 빼는 가장 기본적인 덱 관리 기능을 구현합니다.
> 
> **사용자 테스트 목표**: 여러 카드를 묶어서 ‘업무용’ 덱을 만들 수 있다. 필요 없는 카드는 덱에서 뺄 수 있다.

---

## 상세 작업 목록

- [ ] **덱(Deck) 모델 클래스 및 DB 연동** (총 4시간)
    1. [ ] **(파일 생성)**: `lib/data/models` 폴더에 `deck_model.dart` 파일을 생성합니다.
    2. [ ] **(클래스 정의)**: `Deck` 클래스를 만들고 `id`, `title`, `description` 등 기획서의 `decks` 테이블과 일치하는 변수를 선언합니다.
    3. [ ] **(메소드 구현)**: `Deck` 객체를 `Map`으로, `Map`을 `Deck` 객체로 변환하는 `toMap()`, `fromMap()`을 구현합니다.
    4. [ ] **(DB 연동)**: `DatabaseHelper` 클래스에 `insertDeck`, `updateDeck`, `deleteDeck` 등 덱 관련 기본 DB 함수들을 추가합니다.

- [ ] **덱 리스트 화면 UI 구현** (총 5시간)
    1. [ ] **(파일 생성)**: `lib/presentation/screens` 폴더에 `deck_list_screen.dart` 파일을 생성합니다.
    2. [ ] **(UI)**: `Scaffold`와 `AppBar`, 그리고 덱 목록을 표시할 `ListView.builder`로 기본 구조를 잡습니다.
    3. [ ] **(UI)**: 우측 하단에 새 덱을 만들기 위한 `FloatingActionButton`을 추가합니다.
    4. [ ] **(라우팅)**: `go_router` 설정에 `/decks` 경로를 추가하고 `DeckListScreen`으로 연결합니다. 앱의 하단 네비게이션 바에 ‘덱’ 탭을 추가하여 이 화면으로 이동할 수 있게 합니다.

- [ ] **덱 생성 기능 구현** (총 5시간)
    1. [ ] **(UI)**: `FloatingActionButton` 클릭 시, `showDialog`를 이용해 덱 이름과 설명을 입력받는 `AlertDialog`를 띄웁니다.
    2. [ ] **(로직)**: 대화상자에서 ‘생성’ 버튼을 누르면, 입력된 정보로 `Deck` 객체를 생성합니다.
    3. [ ] **(DB 저장)**: 생성된 `Deck` 객체를 `DatabaseHelper`의 `insertDeck` 함수를 통해 DB에 저장합니다.
    4. [ ] **(피드백)**: 저장이 완료되면 덱 리스트 화면을 새로고침하여 방금 만든 덱이 목록에 나타나게 합니다.

- [ ] **덱에 카드 추가/제외 기능 구현** (총 8시간)
    1. [ ] **(UI)**: 카드 리스트의 각 아이템을 길게 누르면(onLongPress) 다중 선택 모드로 진입하는 기능을 구현합니다. 선택된 아이템은 시각적으로 구분되게 합니다.
    2. [ ] **(UI)**: 다중 선택 모드에서는 `AppBar`에 ‘덱에 추가’ 버튼이 나타나게 합니다.
    3. [ ] **(로직)**: ‘덱에 추가’ 버튼을 누르면, 생성된 덱 목록을 보여주는 대화상자를 띄웁니다.
    4. [ ] **(DB 업데이트)**: 특정 덱을 선택하면, 선택됐던 모든 카드들의 `deck_id` 필드를 해당 덱의 ID로 `UPDATE`하는 DB 함수를 호출합니다.
    5. [ ] **(로직)**: 덱 보기 화면에서 카드를 편집할 때 ‘덱에서 제외’ 기능을 추가하여, 해당 카드의 `deck_id`를 `null`로 업데이트 하도록 구현합니다.
