---
fileClass: Work-Plan-Sprint
파일명: DP01_S02_스프린트_카드생명주기.md
범주:
  - 작업상세계획서
  - Sprint
작성일: 2025-09-19
스프린트: 2
상태: 계획됨
tags: [스프린트, Phase1]
---

# Sprint 2 (2주차): 빠른 메모 및 카드 생명주기 구현

> **이번 주 목표**: 사용자가 실제로 메모를 쓰고 저장하는 핵심 기능을 완성합니다. 앱을 껐다 켜도 내가 쓴 내용이 남아있게 됩니다.
> 
> **사용자 테스트 목표**: 앱을 켜서 메모를 작성/저장하고, 카드 리스트에서 확인한 뒤 삭제할 수 있다.

---

## 상세 작업 목록

- [ ] **'새 카드 작성' 화면 UI 구현** (총 4시간)
    1. [ ] **(UI)**: `new_card_screen.dart` 파일에 `Scaffold`를 기본 구조로 UI를 만듭니다.
    2. [ ] **(UI)**: `AppBar`에 '카드 리스트'로 이동하는 `IconButton`을 추가합니다.
    3. [ ] **(UI)**: `body`에 제목용 `TextField`와 내용용 `TextField`를 배치합니다. 내용 `TextField`는 `maxLines`를 null로 설정하여 여러 줄 입력이 가능하게 합니다.
    4. [ ] **(UI)**: 화면 하단에 '저장' `ElevatedButton`을 추가합니다.

- [ ] **카드 정보 모델(Model) 클래스 작성** (총 3시간)
    1. [ ] **(파일 생성)**: `lib/data` 폴더에 `models` 폴더를 만들고 `card_model.dart` 파일을 생성합니다.
    2. [ ] **(클래스 정의)**: `Card` 클래스를 만들고, `id`, `title`, `content`, `createdAt` 등 DB 테이블의 컬럼과 일치하는 변수들을 선언합니다.
    3. [ ] **(메소드 구현)**: `Card` 객체를 `Map`으로 변환하는 `toMap()` 메소드를 만듭니다. (DB에 저장할 때 사용)
    4. [ ] **(메소드 구현)**: `Map`을 `Card` 객체로 변환하는 `fromMap()` 팩토리 생성자를 만듭니다. (DB에서 읽어올 때 사용)

- [ ] **카드 저장 기능 구현** (총 5시간)
    1. [ ] **(DB)**: `DatabaseHelper` 클래스에 `insertCard(Card card)` 메소드를 추가합니다. 이 메소드는 `card.toMap()`을 이용해 DB에 `INSERT` 쿼리를 실행합니다.
    2. [ ] **(UI 연결)**: '새 카드 작성' 화면의 `TextField`에 `TextEditingController`를 연결하여 입력 값을 가져올 수 있게 합니다.
    3. [ ] **(로직)**: '저장' 버튼을 눌렀을 때, `TextEditingController`의 텍스트로 `Card` 객체를 생성하고 `DatabaseHelper`의 `insertCard` 메소드를 호출합니다.
    4. [ ] **(피드백)**: 저장이 성공하면, `go_router`를 사용해 '카드 리스트' 화면으로 자동 이동시킵니다.

- [ ] **'카드 리스트' 화면 UI 및 기능 구현** (총 6시간)
    1. [ ] **(DB)**: `DatabaseHelper` 클래스에 `getAllCards()` 메소드를 추가합니다. 이 메소드는 `cards` 테이블의 모든 데이터를 `SELECT`하여 `List<Card>` 형태로 반환합니다.
    2. [ ] **(상태관리)**: `Riverpod`를 사용하여 `getAllCards()`를 호출하고, 카드 목록을 상태로 관리하는 `Provider`를 작성합니다.
    3. [ ] **(UI)**: `card_list_screen.dart`에서 `Provider`를 통해 카드 목록을 읽어옵니다.
    4. [ ] **(UI)**: `ListView.builder`를 사용하여 각 카드의 제목과 내용 일부를 보여주는 리스트 아이템 위젯을 만듭니다.
    5. [ ] **(UI)**: `FloatingActionButton`을 추가하여 '새 카드 작성' 화면으로 이동할 수 있게 합니다.

- [ ] **카드 삭제 기능 구현** (총 4시간)
    1. [ ] **(DB)**: `DatabaseHelper` 클래스에 `deleteCard(String id)` 메소드를 추가합니다.
    2. [ ] **(UI)**: 카드 리스트의 각 아이템을 `Dismissible` 위젯으로 감싸서, 좌우로 스와이프하여 삭제할 수 있는 UI를 구현합니다.
    3. [ ] **(로직)**: 스와이프가 완료되면(`onDismissed`), 해당 카드의 `id`를 사용하여 `deleteCard` 메소드를 호출합니다.
    4. [ ] **(피드백)**: 삭제 후, `Riverpod` 상태를 갱신하여 화면의 리스트가 새로고침되도록 합니다.