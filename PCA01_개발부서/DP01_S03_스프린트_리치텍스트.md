---
fileClass: Work-Plan-Sprint
파일명: DP01_S03_스프린트_리치텍스트.md
범주:
  - 작업상세계획서
  - Sprint
작성일: 2025-09-19
스프린트: 3
상태: 계획됨
tags: [스프린트, Phase1]
---

# Sprint 3 (3주차): 리치 텍스트 및 기본 커스터마이징

> **이번 주 목표**: 단순 텍스트를 넘어, 글자를 꾸미고 이미지를 첨부하여 카드를 더 풍부하게 만듭니다.
> 
> **사용자 테스트 목표**: 카드에 글머리 기호를 사용하고, 글자를 굵게 만들 수 있다. 내가 좋아하는 이미지를 카드 앞면에 넣을 수 있다.

---

## 상세 작업 목록

- [ ] **리치 텍스트 에디터 도입** (총 8시간)
    1. [ ] **(패키지 추가)**: `pubspec.yaml` 파일에 `flutter_quill` 패키지를 추가하고 `flutter pub get`을 실행합니다.
    2. [ ] **(UI 교체)**: '새 카드 작성' 화면의 내용 입력용 `TextField`를 `QuillEditor` 위젯으로 교체합니다.
    3. [ ] **(컨트롤러 설정)**: `QuillController`를 초기화하고 `QuillEditor`에 연결합니다.
    4. [ ] **(툴바 추가)**: `QuillToolbar.basic()` 위젯을 에디터 상단이나 하단에 추가하여 사용자에게 서식 옵션을 제공합니다.

- [ ] **리치 텍스트 저장 및 표시 기능** (총 4시간)
    1. [ ] **(데이터 변환)**: '저장' 버튼을 눌렀을 때, `_controller.document.toDelta()`를 호출하여 문서 내용을 Delta(JSON) 형식으로 가져옵니다.
    2. [ ] **(DB 저장)**: `jsonEncode()`를 사용해 Delta를 문자열로 변환하고, 이 문자열을 DB의 `content` 컬럼에 저장하도록 기존 저장 로직을 수정합니다.
    3. [ ] **(데이터 로딩)**: 카드를 읽어올 때, DB의 `content` 문자열을 `jsonDecode()`로 다시 Delta(JSON) 객체로 변환합니다.
    4. [ ] **(화면 표시)**: 읽기 모드에서는 변환된 Delta 객체로 `QuillController`를 초기화하고, `QuillEditor`를 읽기 전용(`readOnly: true`)으로 설정하여 서식이 적용된 내용을 보여줍니다.

- [ ] **카드 이미지 첨부 기능 구현** (총 6시간)
    1. [ ] **(패키지 추가)**: `pubspec.yaml` 파일에 `image_picker` 패키지를 추가하고 설치합니다.
    2. [ ] **(UI)**: 카드 편집 화면에 '이미지 추가' 아이콘 버튼을 추가합니다.
    3. [ ] **(로직)**: 버튼 클릭 시, `ImagePicker().pickImage()` 메소드를 호출하여 갤러리를 엽니다.
    4. [ ] **(파일 처리)**: 사용자가 선택한 이미지를 `path_provider`를 이용해 앱 내부의 안전한 폴더로 복사하고, 그 새로운 파일 경로를 변수에 저장합니다.
    5. [ ] **(DB 저장)**: 저장 버튼 클릭 시, 위에서 저장한 이미지 파일 경로를 `cards` 테이블의 `front_image` 컬럼에 저장합니다.

- [ ] **카드에 이미지 표시하기** (총 4시간)
    1. [ ] **(UI 수정)**: 카드 읽기/편집 화면의 레이아웃을 수정하여 이미지가 표시될 공간을 마련합니다. (예: 카드 상단)
    2. [ ] **(로직)**: 카드를 불러올 때 `front_image` 경로가 있는지 확인합니다.
    3. [ ] **(UI 표시)**: 경로가 있다면, `Image.file(File(imagePath))` 위젯을 사용해 이미지를 화면에 표시합니다.
    4. [ ] **(예외 처리)**: 경로가 없거나 파일이 존재하지 않을 경우, 이미지를 보여주지 않거나 기본 플레이스홀더 이미지를 보여주도록 처리합니다.