---
fileClass: Work-Plan-Sprint
파일명: DP02_S09_스프린트_고급검색과정렬.md
범주:
  - 작업상세계획서
  - Sprint
작성일: 2025-09-19
스프린트: 9
상태: 계획됨
tags: [스프린트, Phase2]
---

# Sprint 9 (9주차): 고급 검색 및 정렬

> **이번 주 목표**: 카드와 덱이 많아졌을 때를 대비하여, 원하는 정보를 더 빠르고 쉽게 찾을 수 있도록 검색과 정렬 기능을 강화합니다.
> 
> **사용자 테스트 목표**: ‘업무용’ 덱 안에서만 ‘회의록’을 검색할 수 있다. 카드들을 만든 날짜 순으로 정렬해 볼 수 있다.

---

## 상세 작업 목록

- [ ] **덱 포함 전체 검색 기능** (총 6시간)
    1. [ ] **(UI)**: 카드 리스트 화면의 검색 UI 영역에 ‘덱 포함 검색’ `Switch` 위젯을 추가합니다.
    2. [ ] **(상태관리)**: 이 스위치의 ON/OFF 상태를 관리하는 `StateProvider`를 만듭니다.
    3. [ ] **(DB 수정)**: `DatabaseHelper`의 `searchCards` 메소드를 수정하여, ‘덱 포함’ 옵션이 켜져 있으면 `WHERE` 절의 `deck_id` 조건을 무시하고, 꺼져 있으면 `deck_id IS NULL` (낱장 카드) 조건에서만 검색하도록 수정합니다.

- [ ] **카드/덱 리스트 정렬 기능** (총 8시간)
    1. [ ] **(UI)**: 카드 및 덱 리스트 화면의 `AppBar`에 ‘정렬’ 아이콘 버튼을 추가합니다.
    2. [ ] **(UI)**: 버튼 클릭 시, `PopupMenuButton`을 사용하여 ‘최신순’, ‘이름순(가나다)’ 등 정렬 옵션을 표시합니다.
    3. [ ] **(상태관리)**: 선택된 정렬 옵션을 관리하는 `StateProvider`를 만듭니다.
    4. [ ] **(DB 수정)**: `getAllCards`, `getAllDecks` 메소드에 정렬 옵션을 파라미터로 받아, `ORDER BY` 절을 동적으로 변경하여 SQL을 실행하도록 수정합니다.

- [ ] **검색 및 정렬 상태 유지** (총 4시간)
    1. [ ] **(패키지 추가)**: `shared_preferences` 패키지를 `pubspec.yaml`에 추가합니다.
    2. [ ] **(로직)**: 사용자가 정렬 옵션을 변경할 때마다, 해당 값을 `shared_preferences`에 저장합니다.
    3. [ ] **(로직)**: 앱이 시작되거나 리스트 화면이 로드될 때, `shared_preferences`에서 저장된 정렬 옵션 값을 읽어와 `Provider`의 초기값으로 설정합니다.
