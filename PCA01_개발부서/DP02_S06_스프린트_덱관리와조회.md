---
fileClass: Work-Plan-Sprint
파일명: DP02_S06_스프린트_덱관리와조회.md
범주:
  - 작업상세계획서
  - Sprint
작성일: 2025-09-19
스프린트: 6
상태: 계획됨
tags: [스프린트, Phase2]
---

# Sprint 6 (6주차): 덱 관리 및 조회

> **이번 주 목표**: 사용자가 덱 목록을 보고, 특정 덱을 선택했을 때 그 안의 카드들만 모아볼 수 있는 기능을 완성합니다.
> 
> **사용자 테스트 목표**: 내가 만든 덱들의 목록을 한눈에 볼 수 있고, 특정 덱을 눌러 그 안의 카드만 모아볼 수 있다.

---

## 상세 작업 목록

- [ ] **덱 리스트 기능 구현** (총 4시간)
    1. [ ] **(DB)**: `DatabaseHelper`에 `getAllDecks()` 메소드를 추가하여 모든 덱 정보를 `SELECT` 합니다.
    2. [ ] **(상태관리)**: `Riverpod`를 사용하여 `getAllDecks()`를 호출하고, 덱 목록을 상태로 관리하는 `Provider`를 작성합니다.
    3. [ ] **(UI)**: `DeckListScreen`에서 `Provider`를 통해 덱 목록을 읽어와 `ListView.builder`에 각 덱의 제목과 카드 수를 표시합니다.

- [ ] **덱 내부 카드 조회 기능** (총 8시간)
    1. [ ] **(DB)**: `DatabaseHelper`에 `getCardsInDeck(String deckId)` 메소드를 추가합니다. `WHERE deck_id = ?` 조건으로 특정 덱의 카드만 `SELECT` 합니다.
    2. [ ] **(라우팅)**: `go_router`를 수정하여 덱 리스트에서 덱을 선택하면, 카드 리스트 화면으로 이동하되, 덱의 ID를 파라미터로 전달하게 합니다. (예: `/cards?deckId=...`)
    3. [ ] **(상태관리)**: 카드 리스트 화면의 `Provider`가 `deckId` 파라미터를 받도록 수정합니다.
    4. [ ] **(로직)**: `deckId`가 있으면 `getCardsInDeck`을, 없으면 기존의 `getAllCards`를 호출하여 낱장 카드 또는 덱 내부 카드를 구분해서 보여주도록 구현합니다.

- [ ] **덱 정보 수정 및 삭제 기능** (총 8시간)
    1. [ ] **(UI)**: 덱 리스트의 각 아이템을 길게 누르면(onLongPress) ‘수정’, ‘삭제’ 옵션이 있는 메뉴(PopupMenuButton 또는 BottomSheet)가 나타나게 합니다.
    2. [ ] **(로직-수정)**: ‘수정’ 선택 시, 덱 생성 시 사용했던 대화상자를 재활용하여 덱 이름과 설명을 `UPDATE`하는 기능을 구현합니다.
    3. [ ] **(로직-삭제)**: ‘삭제’ 선택 시, “덱을 삭제하시겠습니까? 내부의 카드는 삭제되지 않고 낱장 카드로 변경됩니다.” 와 같은 확인 대화상자를 보여줍니다.
    4. [ ] **(DB)**: 확인 시, 먼저 해당 덱에 속한 모든 카드의 `deck_id`를 `null`로 `UPDATE`한 뒤, `decks` 테이블에서 해당 덱을 `DELETE` 합니다.
